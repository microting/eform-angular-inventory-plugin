<div class="row p-1 table-responsive no-gutters">
  <table
    mdbTable
    striped="true"
    hover="true"
    small="true"
    class="z-depth-1 text-center"
  >
    <thead>
      <tr>
        <th
          scope="col"
          class="table-header-sortable"
          id="idTableHeader"
          (click)="onSortTable('Id')"
        >
          <div class="d-flex align-items-center justify-content-center">
            ID
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'Id'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Id' && !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Id' && itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th
          scope="col"
          class="table-header-sortable"
          id="typeTableHeader"
          (click)="onSortTable('ItemType')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'Item type' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'ItemType'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'ItemType' &&
                !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'ItemType' &&
                itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th
          scope="col"
          class="table-header-sortable"
          id="locationTableHeader"
          (click)="onSortTable('Location')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'Location' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'Location'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Location' &&
                !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Location' &&
                itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th
          scope="col"
          class="table-header-sortable"
          id="expiresTableHeader"
          (click)="onSortTable('Expires')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'Expires' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'Expires'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Expires' &&
                !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Expires' &&
                itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th
          scope="col"
          class="table-header-sortable"
          id="SNTableHeader"
          (click)="onSortTable('SN')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'SN' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'SN'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'SN' && !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'SN' && itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th *ngIf="!selectedItemGroupId"
          scope="col"
          class="table-header-sortable"
          id="itemGroupTableHeader"
          (click)="onSortTable('ItemGroup')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'Item group' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'ItemGroup'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'ItemGroup' &&
                !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'ItemGroup' &&
                itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th
          scope="col"
          class="table-header-sortable"
          id="StatusTableHeader"
          (click)="onSortTable('Available')"
        >
          <div class="d-flex align-items-center justify-content-center">
            {{ 'Status' | translate }}
            <i
              class="material-icons text-black-50"
              *ngIf="localPageSettings.sort != 'Available'"
              >unfold_more</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Available' &&
                !itemsRequestModel.isSortDsc
              "
              >expand_less</i
            >
            <i
              class="material-icons"
              *ngIf="
                localPageSettings.sort == 'Available' &&
                itemsRequestModel.isSortDsc
              "
              >expand_more</i
            >
          </div>
        </th>
        <th scope="col">
          {{ 'Actions' | translate }}
        </th>
      </tr>
    </thead>
    <tbody id="tableBodyInventoryItems">
      <tr *ngFor="let itemModel of itemsModel.entities; let i = index">
        <td id="itemId">
          {{ itemModel.id }}
        </td>
        <td id="itemType">
          {{ itemModel.itemType ? itemModel.itemType.name : '' }}
        </td>
        <td id="itemLocation">
          {{ itemModel.location }}
        </td>
        <td id="itemExpirationDate">
          <date-formatter
            [date]="itemModel.expirationDate"
            [Format]="'datetime'"
          ></date-formatter>
        </td>
        <td id="itemSN">
          {{ itemModel.sn }}
        </td>
        <td id="itemGroup" *ngIf="!selectedItemGroupId">
          {{ itemModel.itemGroup ? itemModel.itemGroup.name : '' }}
        </td>
        <td id="itemStatus">
          {{ itemModel.available ? ('On' | translate) : ('Off' | translate) }}
        </td>
        <td>
          <div class="d-flex flex-row justify-content-center">
            <button
              id="editItemBtn"
              class="btn btn-accent text-black-50 btn-icon mb-2"
              mdbTooltip="{{ 'Edit item' | translate }}"
              (click)="onShowEditItemModal(itemModel)"
            >
              <fa-icon icon="pen" size="lg" [fixedWidth]="true"></fa-icon>
            </button>
            <button
              id="deleteItemBtn"
              class="btn btn-danger btn-icon mb-2"
              mdbTooltip="{{ 'Delete item' | translate }}"
              (click)="onShowDeleteItemModal(itemModel)"
            >
              <fa-icon icon="trash-alt" size="lg" [fixedWidth]="true"></fa-icon>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
